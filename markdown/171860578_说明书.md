# <center>《计算机图形学》说明书

<center>学号：171860578	姓名：张梓悦	邮箱：2846728884@qq.com

[TOC]

## 1. 开发环境

- Ubuntu 18.04 x86_64
- Python 3.7.4
  - numpy 1.18.1
  - pillow 7.0.0
  - pyqt 5.9.2



## 2. 基本功能介绍

### 2.1 设置画笔

重置画笔颜色

![22]( \22.PNG)

**操作方式：**

在对话框中选择画笔颜色即可

![23]( \23.PNG)

### 2.2 重置画布

清空画布并修改大小

![24]( \24.PNG)

**操作方式：**

在对话框中设置画布的大小即可即可

![25]( \25.PNG)

### 2.3 保存画布

将画布保存至文件

![26]( \26.PNG)

**操作方式：**

在对话框中选择或创建新文件即可

![27]( \27.PNG)

### 2.4 退出

直接退出程序

![24]( \24.PNG)



### 2.5 选择图元

选择画布中的图元

**操作方式**

在附加功能菜单中，点击选择图元操作，接下来直接在画布中点击对应图元，即可实现选择图元操作

![36]( \36.PNG)

同时也可以在右边选择栏中进行图元选择操作。

![37]( \37.PNG)

### 2.6 直线绘制

在屏幕上绘制直线

![28]( \28.PNG)

**操作方式：**

先选定绘制直线所用的算法，再在画布中捕获鼠标的起点以及终点，即鼠标最先点击的点为直线起点，鼠标最后释放的点为直线终点。

**效果图：**

![29]( \29.PNG)



### 2.7 多边形绘制

在屏幕上绘制多边形，为便于用户操作，在绘制过程中绘制的都是未封闭多边形，绘制结束后才会显示出封闭的多边形作为最终结果。同时在绘制过程中，将禁止用户点击画布以为的任何位置，只有当绘制完多边形后，才解除锁定。

![30]( \30.PNG)

**操作方式：**

先选定绘制多边形所用的算法，选点过程参考了WINDOWS 绘图工具的实现，先同绘制直线的方式一样获取两个初始点。再按下鼠标确定其他新的点，新的点的坐标由如果该点的位置距离第一个初始点的距离平方小于50，则结束多边形选点。同时不再保存这一个结束点。并绘制多边形。

**效果图：**

![31]( \31.PNG)



### 2.8 椭圆绘制

在屏幕上绘制椭圆

![32]( \32.PNG)

**操作方式：**

在画布中捕获鼠标的起点以及终点，即鼠标最先点击的点为椭圆的对角线起始点，鼠标最后释放的点为椭圆的对角线终点。从而确定椭圆对角线上的两个顶点。

**效果图：**

![33]( \33.PNG)



### 2.9 曲线绘制

在屏幕上绘制曲线，其中为了保证gui不卡，修改控制点数时，最多修改为20。在绘制B样条曲线时，在最开始的时候只选了两个点或三个点时，会现在屏幕上显示这些点构成的直线，便于用户观察控制点的位置。当点数大于等于4后将显示对应的直线。同时在绘制过程中，将禁止用户点击画布以为的任何位置，只有当绘制完曲线后，才解除锁定。

![34]( \34.PNG)

**操作方式：**

控制点数可以在界面左边的Bezier控制点数以及B样条阶数中进行设置。绘制时先选择算法，然后同绘制直线的方式一样获取两个初始点。再按下鼠标确定其他新的点，直到与控制点数目相同后，结束选点并绘制出最终曲线。

**效果图：**

![35]( \35.PNG)



### 2.10 平移操作

对图元进行平移

![34]( \34.PNG)

**操作方式：**

先选中某一个图元，然后在菜单中选择平移操作。用鼠标拖动图元即可进行平移。

**效果图：**

![38]( \38.PNG)

![39]( \39.PNG)



### 2.11 旋转操作

对图元进行旋转

![40]( \40.PNG)

**操作方式：**

先选中某一个图元，然后在菜单中选择旋转操作。先用鼠标点击画布确定旋转中心，然后通过鼠标滚轮进行旋转，其中滚轮向下滑动为顺时针旋转，反之为逆时针旋转。

**效果图：**

![41]( \41.PNG)

![42]( \42.PNG)



### 2.12 缩放操作

对图元进行缩放

![45]( \45.PNG)

**操作方式：**

先选中某一个图元，然后在菜单中选择缩放操作。先用鼠标点击画布确定缩放中心，然后通过拉动鼠标即可进行缩放，鼠标拖动的越长则放大的比例越大，反之越小则缩放的结果越小。

**效果图：**

![43]( \43.PNG)

![44]( \44.PNG)



### 2.13 直线裁剪操作

对直线进行裁剪

![46]( \46.PNG)

**操作方式：**

先选中某一个图元，然后在菜单中选择裁剪操作以及对应的算法。再在画布中捕获鼠标的起点以及终点，即鼠标最先点击的点为裁剪框起点，鼠标最后释放的点为裁剪框的终点。最终得到裁剪后的直线。

**效果图：**

![47]( \47.PNG)

![48]( \48.PNG)





## 3 拓展功能介绍

![14]( \14.PNG)

### 3.1 多边形填充

绘制多变形，同时对内部使用颜色进行填充

![49]( \49.PNG)

**操作方式：**

在菜单中选择多边形填充操作。先同绘制直线的方式一样获取两个初始点。再按下鼠标确定其他新的点，新的点的坐标由如果该点的位置距离第一个初始点的距离平方小于50，则结束多边形选点。同时不再保存这一个结束点。并绘制填充好的多边形。

**效果图：**

![15]( \15.PNG)

### 3.2 多边形裁剪

将绘制的多变形进行裁剪操作

![50]( \50.PNG)

**操作方式：**

先选中某一个多边形图元，然后在菜单中选择裁剪操作以及对应的算法。再在画布中捕获鼠标的起点以及终点，即鼠标最先点击的点为裁剪框起点，鼠标最后释放的点为裁剪框的终点。最终得到裁剪后的多边形。

**效果图：**

![51]( \51.PNG)

![52]( \52.PNG)

### 3.3 选择图元

直接通过点击图元实现图元选择

**操作方式**

在菜单中，点击选择图元操作，接下来直接在画布中点击对应图元，即可实现选择图元操作

![36]( \36.PNG)

### 3.4 撤销

撤销上一步（可多步）操作

![53]( \53.PNG)

**操作方式**

在菜单中，点击撤销，即可实现撤销操作。可一次性撤销多步。

**效果图：**

![20]( \20.PNG)

![21]( \21.PNG)

### 3.5 复制

先选中图元，再在菜单选则复制操作，即可将图元保存在剪切板中，用以接下来的粘贴操作。

![54]( \54.PNG)

**效果图：**

![55]( \55.PNG)

### 3.6 粘贴

在菜单中的附加功能中选取粘贴操作，只要之前复制过图元（剪切板中有保存的图元），即可通过在屏幕上直接点击，实现图元的粘贴。

**效果图：**

![56]( \56.PNG)

![57]( \57.PNG)